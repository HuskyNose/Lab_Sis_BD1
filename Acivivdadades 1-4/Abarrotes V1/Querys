Abarrotes V1 (no migracion de datos)

Categoria
CREATE TABLE CATEGORIA (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    NOMBRE TEXT NOT NULL,
    DESCRIPCION TEXT,
    CREATED_AT TEXT DEFAULT (DATETIME('now'))
);

Producto
CREATE TABLE PRODUCTO (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    CATEGORIA_ID INTEGER,
    NOMBRE TEXT NOT NULL,
    CODIGO_BARRAS TEXT UNIQUE,
    PRECIO_COMPRA REAL,
    PRECIO_VENTA REAL,
    STOCK INTEGER DEFAULT 0,
    MARCA TEXT,
    FOREIGN KEY (CATEGORIA_ID) REFERENCES CATEGORIA(ID)
);

Ventas
CREATE TABLE VENTA (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    FECHA_VENTA TEXT DEFAULT (DATETIME('now')),
    TOTAL REAL DEFAULT 0.0,
    METODO_PAGO TEXT CHECK(METODO_PAGO IN ('efectivo', 'tarjeta')),
    OBSERVACIONES TEXT
);

-- 4. Detalles de la venta
CREATE TABLE DETALLE_VENTA (
    VENTA_ID INTEGER,
    PRODUCTO_ID INTEGER,
    CANTIDAD INTEGER,
    PRECIO_UNITARIO REAL,
    SUBTOTAL REAL,
    PRIMARY KEY (VENTA_ID, PRODUCTO_ID),
    FOREIGN KEY (VENTA_ID) REFERENCES VENTA(ID),
    FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTO(ID)
);

-------------------------
Ejemplo de insertacion de datos

INSERT INTO CATEGORIA (NOMBRE) VALUES ('Bebidas'), ('Botanas'), ('LÃ¡cteos');


INSERT INTO PRODUCTO (CATEGORIA_ID, NOMBRE, CODIGO_BARRAS, PRECIO_VENTA, STOCK) 
VALUES (1, 'Coca-Cola 600ml', '75010553', 18.50, 24),
       (2, 'Papas Saladas', '75010111', 17.00, 15),
       (3, 'Leche Entera 1L', '75010222', 26.00, 10);